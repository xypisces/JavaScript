<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>web存储</title>
<script type="text/javascript" >
function saveStorage(id)
{
	var data = document.getElementById(id).value;
	var time = new Date().getTime();
	localStorage.setItem(time,data);
	alert("数据已经保存了");
	loadStorage('msg');
}
function loadStorage(id){
	var result = '<table border="1">';
	for(var i=0;i<localStorage.length;i++)
	{
		var key = localStorage.key(i);
		var value = localStorage.getItem(key);
		var date = new Date();
		date.setTime(key);
		var datestr = date.toGMTString();
		result+='<tr><td>'+value +'</td><td>'+datestr+'</td><tr>';
	}
	result+='</table>';
	var target =document.getElementById(id);
	target.innerHTML = result;
}
function clearStorage(id)
{
	localStorage.clear();
	alert("全部数据已经清除了");
	loadStorage('msg');
}
</script>
</head>
<body>
	<h1>web留言板</h1>
	<textarea  id="memo" cols="60" rows="10"></textarea>
	<br>
	<input type="button" value="追加" onclick="saveStorage('memo');">
	<input type="button" value="初始化" onclick="clearStorage('msg');">
	<hr>
	<p id="msg"></p>
</body>
